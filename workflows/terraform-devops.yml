name: 'Create Infra with Terraform'

on:
  push:
    branches: [ main ]
    paths: .github/workflows/terraform-devops.yml
pull_request:
  branches: none # [ main ]
# Allows to run this workflow manually from the Actions tab
workflow_dispatch:

env:
  RESOURCE_GROUP_NAME: azure-devops
  STORAGE_ACCOUNT_NAME: tfbuildstate
  CONTAINER_NAME: tf-devopslab
  BLOB_NAME: terraform.tfstate